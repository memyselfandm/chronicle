# Chronicle Observability Platform - Environment Configuration Template
# ==============================================================================
# Copy this file to .env and configure the values for your environment
# 
# This is the master environment template for the Chronicle project.
# App-specific templates in apps/* directories reference this file.
#
# Variable Naming Convention:
# - CHRONICLE_*     : Project-wide configuration variables
# - NEXT_PUBLIC_*   : Next.js client-side variables (Dashboard app)
# - CLAUDE_HOOKS_*  : Claude Code hooks system specific variables
# - Standard env vars (NODE_ENV, etc.) maintained as-is
# ==============================================================================

# ===========================================
# PROJECT IDENTIFICATION (Required)
# ===========================================
# Environment type - affects all other settings
# Options: development, staging, production
CHRONICLE_ENVIRONMENT=development

# Project name and version
CHRONICLE_PROJECT_NAME=Chronicle Observability Platform
CHRONICLE_VERSION=1.0.0

# Application URLs (adjust per environment)
CHRONICLE_DASHBOARD_URL=http://localhost:3000
CHRONICLE_HOOKS_URL=http://localhost:3001

# ===========================================
# SUPABASE CONFIGURATION (Required)
# ===========================================
# Primary database for Chronicle platform
# Get these values from your Supabase project dashboard:
# 1. Go to https://supabase.com/dashboard
# 2. Select your project
# 3. Navigate to Settings > API
# 4. Copy the values below

# Your Supabase project URL
CHRONICLE_SUPABASE_URL=https://your-project-ref.supabase.co

# Your Supabase anonymous/public key (safe for client-side use)
CHRONICLE_SUPABASE_ANON_KEY=your-anon-key-here

# Service role key for server-side operations (KEEP SECRET)
CHRONICLE_SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database connection settings
CHRONICLE_DB_TIMEOUT=30
CHRONICLE_DB_RETRY_ATTEMPTS=3
CHRONICLE_DB_RETRY_DELAY=1.0

# SQLite fallback configuration (hooks system)
CHRONICLE_SQLITE_PATH=~/.chronicle/fallback.db

# ===========================================
# NEXT.JS DASHBOARD CONFIGURATION
# ===========================================
# Next.js specific variables (required by framework)
# These are exposed to the client-side

# Environment identification for dashboard
NEXT_PUBLIC_ENVIRONMENT=development
NEXT_PUBLIC_APP_TITLE=Chronicle Observability

# Supabase configuration for dashboard (client-side)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Feature flags for dashboard
NEXT_PUBLIC_ENABLE_REALTIME=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_ENABLE_EXPORT=true
NEXT_PUBLIC_ENABLE_EXPERIMENTAL_FEATURES=false

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
# Global logging settings for Chronicle platform

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
CHRONICLE_LOG_LEVEL=INFO

# Log file paths
CHRONICLE_LOG_DIR=~/.chronicle/logs
CHRONICLE_DASHBOARD_LOG_FILE=~/.chronicle/logs/dashboard.log
CHRONICLE_HOOKS_LOG_FILE=~/.chronicle/logs/hooks.log

# Log rotation settings
CHRONICLE_MAX_LOG_SIZE_MB=10
CHRONICLE_LOG_ROTATION_COUNT=3

# Enable structured logging
CHRONICLE_STRUCTURED_LOGGING=true

# ===========================================
# PERFORMANCE CONFIGURATION
# ===========================================
# Performance settings for Chronicle platform

# Dashboard performance settings
CHRONICLE_MAX_EVENTS_DISPLAY=1000
CHRONICLE_POLLING_INTERVAL=5000
CHRONICLE_BATCH_SIZE=50

# Real-time connection settings
CHRONICLE_REALTIME_HEARTBEAT_INTERVAL=30000
CHRONICLE_REALTIME_TIMEOUT=10000

# Hooks performance settings
CHRONICLE_HOOKS_EXECUTION_TIMEOUT_MS=100
CHRONICLE_HOOKS_MAX_MEMORY_MB=50
CHRONICLE_HOOKS_MAX_BATCH_SIZE=100
CHRONICLE_HOOKS_ASYNC_OPERATIONS=true
CLAUDE_HOOKS_EXECUTION_TIMEOUT_MS=100
CLAUDE_HOOKS_MAX_MEMORY_MB=50

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# Security settings for Chronicle platform

# Data sanitization
CHRONICLE_SANITIZE_DATA=true
CHRONICLE_REMOVE_API_KEYS=true
CHRONICLE_REMOVE_FILE_PATHS=false

# Input validation
CHRONICLE_MAX_INPUT_SIZE_MB=10

# Content Security Policy (production)
CHRONICLE_ENABLE_CSP=false
CHRONICLE_ENABLE_SECURITY_HEADERS=false

# Rate limiting
CHRONICLE_ENABLE_RATE_LIMITING=false
CHRONICLE_RATE_LIMIT_REQUESTS=1000
CHRONICLE_RATE_LIMIT_WINDOW=900

# Allowed file extensions (comma-separated)
CHRONICLE_ALLOWED_EXTENSIONS=.py,.js,.ts,.json,.md,.txt,.yml,.yaml

# ===========================================
# SESSION MANAGEMENT
# ===========================================
# Session configuration for Chronicle platform

# Session timeout (hours)
CHRONICLE_SESSION_TIMEOUT_HOURS=24

# Auto-cleanup old sessions
CHRONICLE_AUTO_CLEANUP=true

# Maximum events per session
CHRONICLE_MAX_EVENTS_PER_SESSION=10000

# ===========================================
# CLAUDE CODE INTEGRATION
# ===========================================
# Claude Code hooks system configuration

# Claude Code project directory (set automatically)
CLAUDE_PROJECT_DIR=/path/to/your/project

# Claude Code session ID (set automatically)
CLAUDE_SESSION_ID=

# Enable/disable hooks system
CLAUDE_HOOKS_ENABLED=true

# Hook debug mode
CLAUDE_HOOKS_DEBUG=false

# Hooks database path
CLAUDE_HOOKS_DB_PATH=~/.claude/hooks_data.db

# Hooks logging configuration
CLAUDE_HOOKS_LOG_LEVEL=INFO
CLAUDE_HOOKS_LOG_FILE=~/.claude/hooks.log
CLAUDE_HOOKS_MAX_LOG_SIZE_MB=10
CLAUDE_HOOKS_LOG_ROTATION_COUNT=3
CLAUDE_HOOKS_LOG_ERRORS_ONLY=false

# ===========================================
# MONITORING & ERROR TRACKING (Optional)
# ===========================================
# External monitoring services configuration

# Sentry error tracking
CHRONICLE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
CHRONICLE_SENTRY_ENVIRONMENT=development
CHRONICLE_SENTRY_DEBUG=false
CHRONICLE_SENTRY_SAMPLE_RATE=1.0
CHRONICLE_SENTRY_TRACES_SAMPLE_RATE=0.1

# Analytics configuration
CHRONICLE_ANALYTICS_ID=your-analytics-id
CHRONICLE_ENABLE_ANALYTICS_TRACKING=false

# Performance monitoring
CHRONICLE_ENABLE_PERFORMANCE_MONITORING=true

# Error alert thresholds
CHRONICLE_ERROR_THRESHOLD=10
CHRONICLE_MEMORY_THRESHOLD=80
CHRONICLE_DISK_THRESHOLD=90

# ===========================================
# DEVELOPMENT & DEBUGGING (Optional)
# ===========================================
# Development-specific settings

# Development mode flag
CHRONICLE_DEV_MODE=false

# Debug logging and tools
CHRONICLE_DEBUG=false
NEXT_PUBLIC_DEBUG=false
NEXT_PUBLIC_LOG_LEVEL=info

# React DevTools and profiler
NEXT_PUBLIC_ENABLE_PROFILER=false
NEXT_PUBLIC_SHOW_DEV_TOOLS=false

# Test database configuration
CHRONICLE_TEST_DB_PATH=./test_chronicle.db
CHRONICLE_MOCK_DB=false

# Verbose output for debugging
CHRONICLE_VERBOSE=false

# Show environment information in UI
NEXT_PUBLIC_SHOW_ENVIRONMENT_BADGE=true

# ===========================================
# UI CUSTOMIZATION (Optional)
# ===========================================
# User interface configuration

# Default theme
NEXT_PUBLIC_DEFAULT_THEME=dark

# Theme customization
CHRONICLE_THEME_PRIMARY_COLOR=#0070f3
CHRONICLE_THEME_SECONDARY_COLOR=#1a1a1a

# ===========================================
# PRIVACY & COMPLIANCE (Optional)
# ===========================================
# Data privacy and compliance settings

# PII detection and filtering
CHRONICLE_PII_FILTERING=true

# Data retention period (days)
CHRONICLE_DATA_RETENTION_DAYS=90

# Audit logging
CHRONICLE_AUDIT_LOGGING=true

# Anonymize user data
CHRONICLE_ANONYMIZE_USERS=false

# ===========================================
# INTEGRATIONS (Optional)
# ===========================================
# External service integrations

# Webhook notifications
CHRONICLE_WEBHOOK_URL=
CHRONICLE_WEBHOOK_SECRET=

# Slack integration
CHRONICLE_SLACK_WEBHOOK=
CHRONICLE_SLACK_CHANNEL=#chronicle-alerts

# Email notifications
CHRONICLE_ALERT_EMAIL=
CHRONICLE_SMTP_SERVER=
CHRONICLE_SMTP_PORT=587
CHRONICLE_SMTP_USERNAME=
CHRONICLE_SMTP_PASSWORD=
CHRONICLE_SMTP_FROM=noreply@chronicle.example.com

# ===========================================
# ADVANCED SETTINGS (Optional)
# ===========================================
# Advanced configuration options

# Custom configuration paths
CHRONICLE_CONFIG_DIR=~/.chronicle/config
CHRONICLE_HOOKS_CONFIG_PATH=
CHRONICLE_HOOKS_DIRECTORY=

# Schema management
CHRONICLE_SCHEMA_PATH=
CHRONICLE_AUTO_MIGRATE=true

# Timezone for timestamps
CHRONICLE_TIMEZONE=UTC

# CDN and optimization (production)
CHRONICLE_ENABLE_CDN=false
CHRONICLE_CACHE_STRATEGY=default

# ===========================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# ===========================================

# Development Example:
# CHRONICLE_ENVIRONMENT=development
# CHRONICLE_SUPABASE_URL=https://dev-project.supabase.co
# CHRONICLE_LOG_LEVEL=DEBUG
# CHRONICLE_DEBUG=true
# NEXT_PUBLIC_DEBUG=true
# NEXT_PUBLIC_SHOW_DEV_TOOLS=true
# CHRONICLE_DEV_MODE=true

# Staging Example:
# CHRONICLE_ENVIRONMENT=staging
# CHRONICLE_SUPABASE_URL=https://staging-project.supabase.co
# CHRONICLE_LOG_LEVEL=INFO
# CHRONICLE_DEBUG=true
# NEXT_PUBLIC_DEBUG=true
# CHRONICLE_SENTRY_ENVIRONMENT=staging

# Production Example:
# CHRONICLE_ENVIRONMENT=production
# CHRONICLE_SUPABASE_URL=https://prod-project.supabase.co
# CHRONICLE_LOG_LEVEL=ERROR
# CHRONICLE_DEBUG=false
# NEXT_PUBLIC_DEBUG=false
# CHRONICLE_SENTRY_ENVIRONMENT=production
# CHRONICLE_ENABLE_CSP=true
# CHRONICLE_ENABLE_SECURITY_HEADERS=true
# NEXT_PUBLIC_SHOW_ENVIRONMENT_BADGE=false